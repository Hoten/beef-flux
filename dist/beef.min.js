!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.beef=e()}}(function(){var define,module,exports;return function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";var r=e("./component/action"),o=function(){function e(){}return e.create=function(t){var n=new r.Action;for(var o in t)"_"===o[0]||e.ignoreFunctions.indexOf(o)>=0||(n[o]=new function(){return new Function("return function (fn) { return function "+o+" () { return fn(this, arguments) }; };")()(Function.apply.bind(function(e){var r=[];for(var o in arguments)"0"!==o&&r.push(arguments[o]);n._dispatch(e,t[e].bind(n),r)}.bind(null,o)))});return n},e.ignoreFunctions=["constructor"],e}();n.Actions=o},{"./component/action":2}],2:[function(e,t,n){"use strict";var r=function(){function e(){this._callbacks={}}return e.prototype._register=function(e,t){for(var n in e){var r=e[n].name;"undefined"==typeof this._callbacks[r]&&(this._callbacks[r]=[]),this._callbacks[r].push(t[n].bind(t))}},e.prototype._dispatch=function(e,t,n){if("undefined"!=typeof this._callbacks[e]){var r=t.apply(this,n);this._callbacks[e].forEach(function(e){e(r)})}},e}();n.Action=r},{}],3:[function(e,t,n){"use strict";var r=e("reqwest"),o=e("extend"),i=function(){function e(){}return e.prototype.throttle=function(e,t,n){var r;return function(){var o=this,i=arguments,s=function(){r=null,n||e.apply(o,i)},a=n&&!r;clearTimeout(r),r=setTimeout(s,t),a&&e.apply(o,i)}},e.prototype.get=function(e,t,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(e,t),method:"get"},n))},e.prototype.post=function(e,t,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(e,t,!1),method:"post",data:JSON.stringify(t),contentType:"application/json"},n))},e.prototype.put=function(e,t,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(e,t,!1),method:"put",data:JSON.stringify(t),contentType:"application/json"},n))},e.prototype.delete=function(e,t,n){return void 0===n&&(n=null),r(this._buildConfig({url:this._buildUrl(e,t),method:"delete"},n))},e.prototype._buildUrl=function(e,t,n){void 0===n&&(n=!0);for(var r in t)e.indexOf("{"+r+"}")===-1?n!==!1&&(e+=e.indexOf("?")!==-1?"&":"?",e+=r+"="+t[r]):e=e.replace("{"+r+"}",t[r]);return e},e.prototype._buildConfig=function(e,t){return void 0===t&&(t={}),null===t?e:o(!0,{},e,t)},e}();n.ApiServiceClass=i;var s=new i;n.ApiService=s},{extend:11,reqwest:12}],4:[function(e,t,n){"use strict";var r=e("../api/api-service"),o=e("../actions/actions"),i=e("../actions/component/action"),s=e("../routing/component/config"),a=e("../routing/decorators/route-decorator"),u=e("../routing/routing-service"),l=e("../store/store"),c=e("../store/store-decorator");t.exports={ApiService:r.ApiService,ApiServiceClass:r.ApiServiceClass,Actions:o.Actions,Action:i.Action,RoutingConfig:s.RoutingConfig,sanitize:a.sanitize,RoutingService:u.RoutingService,RoutingServiceClass:u.RoutingServiceClass,Store:l.Store,Schema:c.Schema}},{"../actions/actions":1,"../actions/component/action":2,"../api/api-service":3,"../routing/component/config":5,"../routing/decorators/route-decorator":6,"../routing/routing-service":7,"../store/store":9,"../store/store-decorator":8}],5:[function(e,t,n){"use strict";var r=function(){function e(e){this.routes=e}return e.prototype.isRoute=function(e){return"undefined"!=typeof this.routes[e]},e.prototype.callRoute=function(e,t){return this.routes[e](t)},e.prototype.handleRequest=function(e,t,n){return this.routes[e](t,n)},e}();n.RoutingConfig=r},{}],6:[function(e,t,n){"use strict";var r=function(e,t){switch(t.type){case"int":case"integer":return parseInt(e);case"float":return parseFloat(e);case"string":return""+e;case"bool":case"boolean":return"undefined"!=typeof e&&(e===!0||"string"==typeof e&&"yes"===e.toLowerCase()||1===e||"1"===e)}},o=function(e){return function(t,n,o){var i=t[n];o.value=function(n){var o=n;for(var s in o)"undefined"!=typeof e[s]&&(o[s]=r(o[s],e[s]));return i.apply(t,[o])}}};n.sanitize=o},{}],7:[function(e,t,n){"use strict";var r=e("./component/config"),o=function(){function e(){}return e.prototype.onRouteFinished=function(){},e.prototype.routes=function(e){return this.routingConfig=new r.RoutingConfig(e),this},e.prototype.route=function(e,t){var n=this.routingConfig.isRoute(e);if(n||(e="/"),this.routingConfig.isRoute(e)){var r=this.routingConfig.callRoute(e,t);return this.activeRoute=e,this.onRouteFinished(),r}return null},e.prototype.handleRequest=function(e,t,n){var r=this.routingConfig.isRoute(e);if(r||(e="default:/"),this.routingConfig.isRoute(e)){var o=this.routingConfig.handleRequest(e,t,n);return this.activeRoute=e,this.onRouteFinished(),o}return null},e.prototype.doRouting=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n="";for(var r in this.routingConfig.routes){n=r;var o=e?e:window.location.hash;o.indexOf("?")>=0&&(o=o.substring(0,o.indexOf("?")));var i=r.match(/\{[a-z\_\-\+]+\}/gi),s={};if(null!==i){var a=r.split("/"),u=o.split("/");if(u=u.splice(1,u.length-1),u.length!==a.length)continue;var l=0,c=!1;if(u.forEach(function(e){a[l].match(/\{[a-z\_\-\+]+\}/gi)||e!==a[l]&&(c=!0),l++}),c)continue;n="",a.forEach(function(e,t){t>0&&(n+="/"),n+=u[t],t>0&&(s[e.replace(/[\{\}]/gi,"")]=u[t])})}n=n.replace("+","\\+");var f=new RegExp("^#/"+n+"$","gi");if(null!==o.match(f)){if(this.activeRoute===r&&s===this.routeData)return;return this.routeData=s,this.activeRoute=r,t?this.handleRequest(r,t,s):this.route(r,s)}}return t?this.handleRequest("default:/",t,{}):this.route("/",{})},e}();n.RoutingServiceClass=o;var i=new o;n.RoutingService=i},{"./component/config":5}],8:[function(e,t,n){"use strict";var r=e("./store");n.Schema={int:function(e){return void 0===e&&(e=null),o.bind(null,r.Store.int.bind(null,e))},string:function(e){return void 0===e&&(e=null),o.bind(null,r.Store.string.bind(null,e))},double:function(e){return void 0===e&&(e=null),o.bind(null,r.Store.double.bind(null,e))},bool:function(e){return void 0===e&&(e=null),o.bind(null,r.Store.bool.bind(null,e))},float:function(e){return void 0===e&&(e=null),o.bind(null,r.Store.float.bind(null,e))},array:function(e){return void 0===e&&(e=null),o.bind(null,r.Store.array.bind(null,e))},object:function(e){return void 0===e&&(e=null),o.bind(null,r.Store.object.bind(null,e))},datetime:function(e){return void 0===e&&(e=null),o.bind(null,r.Store.datetime.bind(null,e))},callback:function(e){return void 0===e&&(e=null),o.bind(null,r.Store.callback.bind(null,e))},uuid:function(e){return void 0===e&&(e={}),e.initial=function(){return i()},o.bind(null,r.Store.string.bind(null,e))}};var o=function(e,t,n,r){t.constructor.schema[n]=e()},i=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}},{"./store":9}],9:[function(e,t,n){"use strict";var r=e("extend"),o=function(){function e(){this.rows={},this.cache={},this.actions=function(){}}return e.create=function(t){var n=r(!0,new e,t);return n.actions(),n},e.prototype.listen=function(e,t){window.addEventListener(e,t)},e.prototype.ignore=function(e,t){window.removeEventListener(e,t)},e.prototype.emit=function(e,t){void 0===t&&(t={});var n=new CustomEvent(e,t);window.dispatchEvent(n)},e.prototype.upsertRow=function(e,t,n,r){void 0===r&&(r=!1);"undefined"==typeof this.rows[e]&&(this.rows[e]=[]);this.rows[e];this.inCache(e,t)?this.cache[e][t]=r?n:this.merge(this.cache[e][t],n):(this.cache[e][t]=n,this.rows[e].push(this.cache[e][t]))},e.prototype.inCache=function(e,t){return"undefined"==typeof this.cache[e]&&(this.cache[e]={}),"object"==typeof this.cache[e][t]},e.prototype.removeRow=function(e,t){this.inCache(e,t)&&(this.cache[e][t]._deleted=!0,this.rows[e]=this.rows[e].filter(function(e){return!e._deleted}),delete this.cache[e][t])},e.prototype.removeRows=function(e,t){var n=this;t.forEach(function(t){n.removeRow(e,t)})},e.prototype.clearAll=function(e){this.rows[e]=[]},e.prototype.getRows=function(e,t){return void 0===t&&(t=!0),"undefined"!=typeof this.rows[e]?t?this.rows[e]:this.rows[e].slice(0):[]},e.prototype.sanitizeAndValidate=function(e,t){var n=this.sanitize(e,t,!1),r=this.validate(n,t);return r===!0?n:r},e.prototype.validate=function(e,t){var n=[];for(var r in t)if("undefined"!=typeof t[r].validation)for(var o in t[r].validation){if(n.length>0)break;var i=e[r],s=t[r].label?t[r].label:r;switch(o){case"required":"undefined"!=typeof i&&null!==i&&""!==i||n.push(s+" is required");break;case"minLength":i.length<t[r].validation[o]&&n.push(s+" must be at least "+t[r].validation[o]+" characters");break;case"maxLength":i.length>t[r].validation[o]&&n.push(s+" must be at under "+t[r].validation[o]+" characters");break;default:if("function"==typeof t[r].validation[o]){var a=t[r].validation[o](i);a!==!0&&n.concat(a)}}}return!(n.length>0)||n},e.prototype.sanitize=function(e,t,n){void 0===n&&(n=!1);var o={},i=r(!0,{},e);for(var s in t)o[s]=this.sanitizeField(s,i,t,n);return o},e.prototype.merge=function(e,t,n){if(void 0===n&&(n=1),3===n)return t;for(var r in t)try{t[r].constructor===Object?e[r]=this.merge(e[r],t[r],n+1):e[r]=t[r]}catch(n){e[r]=t[r]}return e},e.prototype.sortBy=function(e,t){return void 0===t&&(t="desc"),function(n,r){return r[e]&&!n[e]||r[e]&&n[e]&&r[e]>n[e]?"desc"===t.toLowerCase()?1:-1:!r[e]&&n[e]||r[e]&&n[e]&&r[e]<n[e]?"desc"===t.toLowerCase()?-1:1:r[e]&&n[e]&&r[e]==n[e]?0:r[e]&&!n[e]?0:void 0}},e.prototype.money=function(e){return e.toFixed(2)},e.prototype.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},e.string=function(e){return void 0===e&&(e={}),r(!0,{type:"string"},e)},e.int=function(e){return void 0===e&&(e={}),r(!0,{type:"int"},e)},e.double=function(e){return void 0===e&&(e={}),r(!0,{type:"double"},e)},e.bool=function(e){return void 0===e&&(e={}),r(!0,{type:"bool"},e)},e.float=function(e){return void 0===e&&(e={}),r(!0,{type:"float"},e)},e.array=function(e){return void 0===e&&(e={}),r(!0,{type:"array",schema:null},e)},e.object=function(e){return void 0===e&&(e={}),r(!0,{type:"object",schema:null},e)},e.datetime=function(e){return void 0===e&&(e={}),r(!0,{type:"datetime",schema:null,format:"YYYY-MM-DD HH:mm:ss"},e)},e.callback=function(e){return void 0===e&&(e={}),r(!0,{type:"callback",schema:null},e)},e.prototype.sanitizeField=function(e,t,n,r){if("function"===n[e].type)return n[e].value;"undefined"==typeof t[e]&&("undefined"!=typeof n[e].initial?t[e]=n[e].initial():t[e]=null);var o=n[e].type;if(null===t[e]&&"obj"!==o&&"object"!==o)return null;switch(n[e].field=e,o){case"int":case"integer":return this.sanitizeInteger(t[e],n[e]);case"float":case"double":return this.sanitizeFloat(t[e],n[e]);case"string":case"char":case"varchar":return this.sanitizeString(t[e],n[e]);case"date":case"datetime":case"timestamp":return this.sanitizeDateTime(t[e],n[e],r);case"bool":case"boolean":return this.sanitizeBoolean(t[e],n[e]);case"obj":case"object":return this.sanitizeObject(t[e],n[e],r);case"array":case"collection":return this.sanitizeArray(t[e],n[e],r);default:if("undefined"!==n[e].sanitize)return n[e].sanitize(t[e],n[e])}},e.prototype.sanitizeInteger=function(e,t){if("string"==typeof e&&(e=e.replace(/[a-zA-Z]+/gi,""),0===e.length))return e="";if(e=parseInt(e),"undefined"!=typeof t.min&&e<t.min)throw new Error("Provided value cannot be sanitized, value is below minimum integer allowed");if("undefined"!=typeof t.max&&e>t.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum integer allowed");return isNaN(e)?e="":e},e.prototype.sanitizeFloat=function(e,t){if(e=parseFloat(e),"undefined"!=typeof t.min&&e<t.min)throw new Error("Provided value cannot be sanitized, value is below minimum float allowed");if("undefined"!=typeof t.max&&e>t.max)throw new Error("Provided value cannot be sanitized, value is greater than maximum float allowed");return e},e.prototype.sanitizeString=function(e,t){if(e=String(e),"undefined"!=typeof t.minLength&&e.length<t.minLength)throw new Error("Provided value cannot be sanitized, string length is below minimum allowed");return"undefined"!=typeof t.maxLength&&e.length>t.maxLength&&(console.warn("Value was truncated during sanitation"),e=e.substr(0,t.maxLength)),e},e.prototype.sanitizeDateTime=function(e,t,n){if("undefined"==typeof t.utc||t.utc)var r=moment.utc(e,t.format);else var r=moment(e,t.format);if(r.isValid())return n?r.utc().format("YYYY-MM-DD hh:mm:ss"):r;throw new Error("Provided value ("+e+") cannot be sanitized for field ("+t.field+"), is not a valid date")},e.prototype.sanitizeBoolean=function(e,t){if(e===!1||e===!0)return e;if("string"==typeof e){if("false"===e.toLowerCase().trim())return!1;if("true"===e.toLowerCase().trim())return!0}if(0===parseInt(e))return!1;if(1===parseInt(e))return!0;throw new Error("Provided value cannot be santized, is not a valid boolean")},e.prototype.sanitizeObject=function(e,t,n){if("undefined"==typeof t.schema)throw new Error("Provided value cannot be santized, no reference schema provided for field type of object");return null===t.schema?e:null===e?null:this.sanitize(e,t.schema(),n)},e.prototype.sanitizeArray=function(e,t,n){var r=this;return"undefined"==typeof t.schema||null===t.schema||t.schema===!1?e:"undefined"==typeof e.length?[]:e.map(function(e){return r.sanitize(e,t.schema(),n)})},e}();n.Store=o},{extend:11}],10:[function(e,t,n){},{}],11:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)},s=function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t=r.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var i;for(i in e);return"undefined"==typeof i||r.call(e,i)};t.exports=function e(){var t,n,r,o,a,u,l=arguments[0],c=1,f=arguments.length,p=!1;for("boolean"==typeof l?(p=l,l=arguments[1]||{},c=2):("object"!=typeof l&&"function"!=typeof l||null==l)&&(l={});c<f;++c)if(t=arguments[c],null!=t)for(n in t)r=l[n],o=t[n],l!==o&&(p&&o&&(s(o)||(a=i(o)))?(a?(a=!1,u=r&&i(r)?r:[]):u=r&&s(r)?r:{},l[n]=e(p,u,o)):"undefined"!=typeof o&&(l[n]=o));return l}},{}],12:[function(require,module,exports){!function(e,t,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):t[e]=n()}("reqwest",this,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||o||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var o=uniqid++,i=e.jsonpCallback||"callback",s=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),a=new RegExp("((^|\\?|&)"+i+")=([^&]+)"),u=r.match(a),l=doc.createElement("script"),c=0,f=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return u?"?"===u[3]?r=r.replace(a,"$1="+s):s=u[3]:r=urlappend(r,i+"="+s),context[s]=generalCallback,l.type="text/javascript",l.src=r,l.async=!0,"undefined"==typeof l.onreadystatechange||f||(l.htmlFor=l.id="_reqwest_"+o),l.onload=l.onreadystatechange=function(){return!(l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||c)&&(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),void(c=1))},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),c=1}}}function getRequest(e,t){var n,r=this.o,o=(r.method||"GET").toUpperCase(),i="string"==typeof r?r:r.url,s=r.processData!==!1&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,a=!1;return"jsonp"!=r.type&&"GET"!=o||!s||(i=urlappend(i,s),s=null),"jsonp"==r.type?handleJsonp(r,e,t,i):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(o,i,r.async!==!1),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},a=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),a?setTimeout(function(){n.send(s)},200):n.send(s),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,o,i,s=e.name,a=e.tagName.toLowerCase(),u=function(e){e&&!e.disabled&&t(s,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&s)switch(a){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),o=e.value,(!(n||r)||e.checked)&&t(s,normalize(n&&""===o?"on":o)));break;case"textarea":t(s,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())u(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(i=0;e.length&&i<e.length;i++)e.options[i].selected&&u(e.options[i])}}function eachFormElement(){var e,t,n=this,r=function(e,t){var r,o,i;for(r=0;r<t.length;r++)for(i=e[byTag](t[r]),o=0;o<i.length;o++)serial(i[o],n)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),r(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var o,i,s,a=/\[\]$/;if(isArray(t))for(i=0;t&&i<t.length;i++)s=t[i],n||a.test(e)?r(e,s):buildParams(e+"["+("object"==typeof s?i:"")+"]",s,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],n,r);else r(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=require("xhr2")}catch(e){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(e.crossOrigin===!0){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,o=t||!1,i=[],s=encodeURIComponent,a=function(e,t){t="function"==typeof t?t():null==t?"":t,i[i.length]=s(e)+"="+s(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)a(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],o,a);return i.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},{xhr2:10}]},{},[4])(4)});